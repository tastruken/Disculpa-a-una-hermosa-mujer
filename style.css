/* ------------------------------------------- */
/* 1. Configuración de Tailwind (Requiere script tag) */
/* NOTA: Para que la configuración de Tailwind funcione con el CDN, 
         DEBE estar en un bloque <script> ANTES de que se apliquen las clases. 
         Lo muevo aquí para centralizar la configuración, aunque la sintaxis sea JS. 
         Idealmente, si usaras un build de Tailwind, esto iría en el archivo de configuración. */
/* ------------------------------------------- */
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'deep-red': '#8B0000',      // Rojo oscuro
                    'rose-red': '#B22222',      // Rojo rosa
                    'cream-white': '#FFF8DC',   // Blanco crema
                    // Rojos utilizados en el degradado de fondo
                    'velvet-red': '#9b0000',
                    'classic-rose': '#C3272B',
                    'deep-magenta': '#E91E63', 
                },
                fontFamily: {
                    sans: ['Inter', 'sans-serif'],
                    display: ['Dancing Script', 'cursive'], 
                    body: ['Open Sans', 'sans-serif'],
                },
                keyframes: {
                    // Animación para que los elementos aparezcan desde abajo
                    fadeInUp: {
                        '0%': { opacity: '0', transform: 'translateY(20px)' },
                        '100%': { opacity: '1', transform: 'translateY(0)' },
                    },
                    // Animación de pulso para el botón
                    heartBeat: {
                        '0%, 100%': { transform: 'scale(1)' },
                        '50%': { transform: 'scale(1.1)' },
                    },
                    // Animación de flotación para los corazones grandes de fondo
                    floatParticle: {
                        '0%': { opacity: '0', transform: 'translateY(100vh) rotate(0deg)' },
                        '50%': { opacity: '0.8' },
                        '100%': { transform: 'translateY(-100vh) rotate(360deg)', opacity: '0' },
                    },
                    // Animación de flotación para los corazones pequeños dentro de la tarjeta
                    floatSmallParticle: { 
                        '0%': { opacity: '0', transform: 'translateY(0) scale(0.5)' },
                        '50%': { opacity: '0.3', transform: 'translateY(-50px) scale(0.8)' },
                        '100%': { opacity: '0', transform: 'translateY(-100px) scale(1.2)' },
                    },
                    // Animación de brillo (no utilizada directamente en el HTML final, pero definida)
                    sparkle: {
                        '0%': { opacity: '0', transform: 'scale(0)' },
                        '50%': { opacity: '1', transform: 'scale(1.2)' },
                        '100%': { opacity: '0', transform: 'scale(0.8)' },
                    },
                    // Animación de simple aparición
                    fadeIn: {
                        '0%': { opacity: '0' },
                        '100%': { opacity: '1' },
                    }
                },
                animation: {
                    fadeInUp: 'fadeInUp 1.5s ease-out forwards', 
                    apologyEnter: 'fadeInUp 1.2s ease-out forwards', 
                    heartBeat: 'heartBeat 1.5s infinite ease-in-out',
                    sparkle: 'sparkle 1s ease-out forwards',
                    fadeIn: 'fadeIn 1.5s ease-out forwards',
                    pulseHeart: 'heartBeat 1.5s infinite ease-in-out', // Añadida para claridad
                }
            }
        }
    }
</script>

/* ------------------------------------------- */
/* 2. CSS Puro (General y Componentes) */
/* ------------------------------------------- */

/* Estilos Generales del Cuerpo */
body {
    /* Degradado de rojo: Velvet Red -> Classic Rose -> Deep Magenta */
    background: linear-gradient(135deg, #9b0000 0%, #C3272B 50%, #E91E63 100%); 
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Open Sans', sans-serif;
    color: #FFF8DC; /* cream-white */
    background-attachment: fixed; 
}

/* Sombra de texto personalizada */
.text-shadow-lg {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

/* ------------------------------------------- */
/* Corazones Grandes de Fondo (BODY) */
/* ------------------------------------------- */
.heart-particle-container {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    overflow: hidden;
    opacity: 0.8; 
}

.heart-particle {
    position: absolute;
    background: rgba(255, 255, 255, 0.6); 
    width: 10px;
    height: 10px;
    transform: rotate(-45deg);
    animation: floatParticle 15s linear infinite;
}

.heart-particle::before,
.heart-particle::after {
    content: "";
    background: inherit;
    border-radius: 50%;
    position: absolute;
    width: 100%;
    height: 100%;
}

.heart-particle::before { top: -50%; }
.heart-particle::after { left: 50%; }

/* Ajustes de animación para partículas para más variedad */
.heart-particle:nth-child(1) { left: 10%; animation-duration: 12s; }
.heart-particle:nth-child(2) { left: 20%; animation-duration: 16s; animation-delay: 2s; width: 8px; height: 8px; background: rgba(255, 200, 220, 0.6); }
.heart-particle:nth-child(3) { left: 35%; animation-duration: 10s; animation-delay: 4s; }
.heart-particle:nth-child(4) { left: 50%; animation-duration: 14s; animation-delay: 6s; width: 12px; height: 12px; background: rgba(255, 255, 255, 0.8); }
.heart-particle:nth-child(5) { left: 65%; animation-duration: 11s; animation-delay: 8s; }
.heart-particle:nth-child(6) { left: 80%; animation-duration: 15s; animation-delay: 1s; width: 7px; height: 7px; }
.heart-particle:nth-child(7) { left: 90%; animation-duration: 13s; animation-delay: 5s; background: rgba(255, 200, 220, 0.5); }
.heart-particle:nth-child(8) { left: 45%; animation-duration: 17s; animation-delay: 3s; width: 14px; height: 14px; }
.heart-particle:nth-child(9) { left: 5%; animation-duration: 9s; animation-delay: 7s; }
.heart-particle:nth-child(10) { left: 75%; animation-duration: 14s; animation-delay: 9s; }
.heart-particle:nth-child(11) { left: 25%; animation-duration: 13s; animation-delay: 0s; width: 9px; height: 9px; }
.heart-particle:nth-child(12) { left: 55%; animation-duration: 10s; animation-delay: 2s; }

/* Keyframe floatParticle personalizado para el body */
@keyframes floatParticle {
    0% { transform: translate(0, 100vh) rotate(0deg); opacity: 0; }
    50% { opacity: 0.8; }
    100% { transform: translate(0, -100vh) rotate(360deg); opacity: 0; }
}

/* ------------------------------------------- */
/* Corazones Pequeños de Detalle (Dentro de Tarjetas) */
/* ------------------------------------------- */
#apology-card, #no-message {
    animation: apologyEnter 1.2s ease-out forwards; 
    border: 4px solid rgba(255, 255, 255, 0.5); 
    position: relative; 
    overflow: hidden; 
}

.apology-heart-particle-container {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    overflow: hidden;
    z-index: -1; 
}

.apology-heart-particle {
    position: absolute;
    background: rgba(255, 255, 255, 0.3); 
    width: 5px; 
    height: 5px;
    transform: rotate(-45deg);
    animation: floatSmallParticle 8s linear infinite; 
    bottom: 0; 
}

.apology-heart-particle::before,
.apology-heart-particle::after {
    content: "";
    background: inherit;
    border-radius: 50%;
    position: absolute;
    width: 100%;
    height: 100%;
}

.apology-heart-particle::before { top: -50%; }
.apology-heart-particle::after { left: 50%; }

/* Posiciones y retrasos para los corazones pequeños */
.apology-heart-particle:nth-child(1) { left: 15%; animation-duration: 7s; animation-delay: 0s; }
.apology-heart-particle:nth-child(2) { left: 30%; animation-duration: 9s; animation-delay: 1s; background: rgba(255, 200, 220, 0.2); }
.apology-heart-particle:nth-child(3) { left: 50%; animation-duration: 6s; animation-delay: 2s; }
.apology-heart-particle:nth-child(4) { left: 70%; animation-duration: 10s; animation-delay: 3s; background: rgba(255, 255, 255, 0.4); }
.apology-heart-particle:nth-child(5) { left: 85%; animation-duration: 8s; animation-delay: 0.5s; }

/* ------------------------------------------- */
/* Botones y Contenedores */
/* ------------------------------------------- */

/* Animación para los botones (Glow y hover) */
.button-glow {
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.6);
    transition: all 0.3s ease;
}
.button-glow:hover {
    box-shadow: 0 0 25px rgba(255, 255, 255, 0.9);
    transform: translateY(-2px);
}

/* Estilo para el contenedor principal de la pregunta */
#question-container {
    box-shadow: 0 0 40px rgba(255, 255, 255, 0.4); 
    animation: fadeInUp 1.5s ease-out forwards; 
}

/* Las clases de transición se aplican en el JS para asegurar el tamaño */
.no-shrink-transition {
    transition: all 0.5s ease-in-out;
}